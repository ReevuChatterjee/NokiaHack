(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{63170:function(e,t,a){Promise.resolve().then(a.bind(a,22339))},22339:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return H}});var i=a(3827),r=a(64090),l=a(73107),s=a(24232),n=a(8792),o=a(4504);function d(e){var t;let{cells:a,matrix:l}=e;if(!a||!l||0===l.length)return(0,i.jsx)("div",{className:"loading",children:"Loading correlation data..."});let[s,n]=(0,r.useState)(1),[o,d]=(0,r.useState)(-1),[c,p]=(0,r.useState)(null),[h,g]=(0,r.useState)({x:0,y:0}),[x,u]=(0,r.useState)(!1),[m,f]=(0,r.useState)({x:0,y:0}),b=l.flat().filter(e=>!isNaN(e)&&1!==e),y=Math.min(...b),v=Math.max(...b),j=e=>{let t,a,i;if(isNaN(e)||e<o)return"#0f172a";let r=(e-y)/(v-y);if(r<.5){let e=2*r;t=Math.round(15+124*e),a=Math.round(23+69*e),i=Math.round(42+204*e)}else{let e=(r-.5)*2;t=Math.round(139+-133*e),a=Math.round(92+90*e),i=Math.round(246+-34*e)}return"rgb(".concat(t,", ").concat(a,", ").concat(i,")")},k=40*s,w=35*s,S=()=>{u(!1)},N=e=>{p(c===e?null:e)},[_,C]=(0,r.useState)(null),z=null!==c?c:_?_.row:null,F=null!==z?a[z]:null,E=null!==z?l[z].map((e,t)=>({cell:a[t],value:e,idx:t})).filter(e=>e.idx!==z).sort((e,t)=>t.value-e.value).slice(0,5):[];return(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",height:"100%",alignItems:"flex-start"},children:[(0,i.jsxs)("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"0.5rem",padding:"0.5rem 1rem",background:"rgba(15, 23, 42, 0.4)",borderRadius:"8px",alignItems:"center"},children:[(0,i.jsx)("div",{style:{fontSize:"0.8rem",color:"#94a3b8"},children:"\uD83D\uDD0E Zoom:"}),(0,i.jsx)("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:s,onChange:e=>n(parseFloat(e.target.value)),style:{width:"100px"}}),(0,i.jsx)("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)",margin:"0 0.5rem"}}),(0,i.jsx)("button",{onClick:()=>{n(1),g({x:0,y:0}),p(null)},style:{background:"none",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"0.8rem"},children:"Reset View"})]}),(0,i.jsx)("div",{style:{flex:1,overflow:"auto",cursor:x?"grabbing":"grab",background:"rgba(0,0,0,0.2)",borderRadius:"8px",position:"relative"},onMouseDown:e=>{u(!0),f({x:e.clientX-h.x,y:e.clientY-h.y})},onMouseMove:e=>{x&&g({x:e.clientX-m.x,y:e.clientY-m.y})},onMouseUp:S,onMouseLeave:()=>{S(),C(null)},children:(0,i.jsxs)("svg",{width:a.length*k+w,height:a.length*k+w,style:{transform:"translate(".concat(h.x,"px, ").concat(h.y,"px)"),transition:x?"none":"transform 0.2s"},children:[_&&(0,i.jsxs)("g",{pointerEvents:"none",children:[(0,i.jsx)("rect",{x:0,y:_.row*k+w,width:a.length*k+w,height:k,fill:"rgba(59, 130, 246, 0.1)"}),(0,i.jsx)("rect",{x:_.col*k+w,y:0,width:k,height:a.length*k+w,fill:"rgba(59, 130, 246, 0.1)"})]}),l.map((e,t)=>(0,i.jsxs)("g",{children:[(0,i.jsx)("text",{x:w-8,y:t*k+w+k/2+4,textAnchor:"end",fill:z===t?"#3b82f6":"#64748b",fontSize:10*s,fontWeight:z===t?"bold":"normal",children:a[t]}),e.map((e,a)=>(0,i.jsx)("rect",{x:a*k+w,y:t*k+w,width:k-1,height:k-1,fill:j(e),rx:2*s,onMouseEnter:()=>C({row:t,col:a}),onClick:e=>{e.stopPropagation(),N(t)},style:{transition:"fill 0.2s",cursor:"pointer"},stroke:(null==_?void 0:_.row)===t&&(null==_?void 0:_.col)===a?"#fff":"none",strokeWidth:2},"cell-".concat(t,"-").concat(a)))]},"row-".concat(t))),a.map((e,t)=>(0,i.jsx)("text",{x:t*k+w+k/2,y:w-10,textAnchor:"middle",fill:z===t?"#3b82f6":"#64748b",fontSize:10*s,style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:e},"col-".concat(t))),(0,i.jsxs)("g",{transform:"translate(".concat(w,", ").concat(a.length*k+w+20,")"),children:[(0,i.jsx)("text",{x:"0",y:"0",fill:"#94a3b8",fontSize:12*s,fontWeight:"500",children:"Correlation:"}),(0,i.jsx)("text",{x:"0",y:"15",fill:"#8b5cf6",fontSize:11*s,children:"Low"}),[...Array(10)].map((e,t)=>(0,i.jsx)("rect",{x:30+15*t,y:5,width:15,height:15,fill:j(y+t/9*(v-y)),stroke:"rgba(148, 163, 184, 0.2)"},t)),(0,i.jsx)("text",{x:185,y:"15",fill:"#06b6d4",fontSize:11*s,children:"High"})]}),(0,i.jsxs)("g",{transform:"translate(".concat(w,", ").concat(a.length*k+w+20,")"),children:[(0,i.jsx)("text",{x:"0",y:"0",fill:"#94a3b8",fontSize:12*s,fontWeight:"500",children:"Correlation:"}),(0,i.jsx)("text",{x:"0",y:"15",fill:"#8b5cf6",fontSize:11*s,children:"Low"}),[...Array(10)].map((e,t)=>(0,i.jsx)("rect",{x:30+15*t,y:5,width:15,height:15,fill:j(y+t/9*(v-y)),stroke:"rgba(148, 163, 184, 0.2)"},t)),(0,i.jsx)("text",{x:185,y:"15",fill:"#06b6d4",fontSize:11*s,children:"High"})]})]})})]}),(0,i.jsxs)("div",{style:{width:"280px",background:"rgba(30, 41, 59, 0.8)",borderLeft:"1px solid rgba(255,255,255,0.1)",padding:"1rem",display:"flex",flexDirection:"column",borderRadius:"8px"},children:[(0,i.jsxs)("div",{style:{marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[(0,i.jsx)("h3",{style:{margin:0,fontSize:"1rem",color:"#f8fafc"},children:"Correlation Details"}),(0,i.jsx)("p",{style:{margin:"0.2rem 0 0",fontSize:"0.8rem",color:"#94a3b8"},children:F?"Analysis for ".concat(F):"Hover over a cell"})]}),F?(0,i.jsxs)("div",{className:"fade-in",children:[(0,i.jsx)("div",{style:{fontSize:"0.85rem",color:"#cbd5e1",marginBottom:"0.5rem"},children:"Top Correlations:"}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:E.map((e,t)=>(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",background:"rgba(255,255,255,0.05)",borderRadius:"6px"},children:[(0,i.jsx)("span",{style:{fontSize:"0.9rem",color:"#e2e8f0"},children:e.cell}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,i.jsx)("div",{style:{width:"60px",height:"6px",background:"#334155",borderRadius:"3px",overflow:"hidden"},children:(0,i.jsx)("div",{style:{width:"".concat(100*Math.abs(e.value),"%"),height:"100%",background:e.value>.7?"#06b6d4":e.value>.4?"#8b5cf6":"#64748b"}})}),(0,i.jsx)("span",{style:{fontSize:"0.85rem",fontWeight:"bold",width:"35px",textAlign:"right"},children:e.value.toFixed(2)})]})]},t))}),(0,i.jsxs)("div",{style:{marginTop:"1.5rem",padding:"0.75rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"6px",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[(0,i.jsx)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",marginBottom:"0.25rem"},children:(0,i.jsx)("strong",{children:"Insight"})}),(0,i.jsx)("p",{style:{fontSize:"0.8rem",margin:0,color:"#bfdbfe",lineHeight:"1.4"},children:(null===(t=E[0])||void 0===t?void 0:t.value)>.8?(0,i.jsxs)(i.Fragment,{children:[F," is ",(0,i.jsx)("strong",{children:"highly synchronized"})," with ",E[0].cell,". Consider optimizing them as a cluster."]}):(0,i.jsxs)(i.Fragment,{children:[F," shows independent traffic patterns. No strong dependencies detected."]})})]})]}):(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"200px",color:"#64748b",textAlign:"center"},children:[(0,i.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\uD83D\uDC46"}),(0,i.jsx)("p",{style:{fontSize:"0.9rem"},children:"Hover or click a cell to view detailed correlation analysis."})]})]})]})}var c=a(26587),p=a(60154),h=a(38333),g=a(23356),x=a(22983),u=a(10166),m=a(94866),f=a(98061),b=a(17334),y=a(10563),v=a(97104),j=a(79138);function k(e){var t,a,l,s;let{data:n,linkId:o,allLinksData:d}=e,[k,w]=(0,r.useState)(!1),[S,N]=(0,r.useState)([o]),[_,C]=(0,r.useState)([0,100]),[z,F]=(0,r.useState)("raw"),[E,I]=(0,r.useState)(!0);if(!n||0===n.length)return(0,i.jsx)("div",{className:"loading",children:"No traffic data available"});let D=(0,r.useMemo)(()=>{if("raw"===z)return n.map(e=>({time:parseFloat(e.time_seconds).toFixed(2),gbps:parseFloat(e.aggregated_gbps),link:e.link_id}));let e="1s"===z?1:"5s"===z?5:10,t={};return n.forEach(a=>{let i=Math.floor(parseFloat(a.time_seconds)/e)*e;t[i]||(t[i]=[]),t[i].push(parseFloat(a.aggregated_gbps))}),Object.entries(t).map(e=>{let[t,a]=e;return{time:parseFloat(t).toFixed(2),gbps:(0,y.Z)(a),link:n[0].link_id}})},[n,z]),R=D.length>500?D.filter((e,t)=>t%Math.ceil(D.length/500)==0):D,A=(0,v.Z)(R,e=>parseFloat(e.time)),B=(0,j.Z)(R,e=>parseFloat(e.time)),L=A+_[0]/100*(B-A),M=A+_[1]/100*(B-A),O=R.filter(e=>{let t=parseFloat(e.time);return t>=L&&t<=M}),W=(0,r.useMemo)(()=>{let e=O.map(e=>e.gbps);return{min:(0,v.Z)(e),max:(0,j.Z)(e),avg:(0,y.Z)(e),count:e.length}},[O]),P=(0,r.useMemo)(()=>{if(!k||!d)return null;let e={};return S.forEach(t=>{d[t]&&d[t].forEach(a=>{let i=parseFloat(a.time_seconds).toFixed(2);e[i]||(e[i]={time:i}),e[i][t]=parseFloat(a.aggregated_gbps)})}),Object.values(e).sort((e,t)=>parseFloat(e.time)-parseFloat(t.time))},[k,d,S]),T=e=>{let t=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4"],a=0;if(e)for(let t=0;t<e.length;t++)a=e.charCodeAt(t)+((a<<5)-a);return t[Math.abs(a)%t.length]};r.useEffect(()=>{N([o])},[o]);let Z=e=>{N(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,minHeight:0,width:"100%"},children:[(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"0.5rem",marginBottom:"0.5rem",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",borderRadius:"12px",border:"1px solid rgba(148, 163, 184, 0.2)"},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{style:{color:"#94a3b8",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,i.jsx)("input",{type:"checkbox",checked:k,onChange:e=>w(e.target.checked)}),"Compare"]}),k&&d&&(0,i.jsx)("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.25rem",flexWrap:"wrap"},children:Object.keys(d).map(e=>(0,i.jsx)("button",{onClick:()=>Z(e),className:"link-button",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",background:S.includes(e)?T(e):"rgba(15, 23, 42, 0.6)",borderColor:S.includes(e)?T(e):"rgba(148, 163, 184, 0.2)"},children:e},e))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{color:"#94a3b8",fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:"Bin"}),(0,i.jsxs)("select",{value:z,onChange:e=>F(e.target.value),style:{width:"100%",padding:"0.3rem",fontSize:"0.85rem",background:"rgba(15, 23, 42, 0.8)",color:"#f1f5f9",border:"1px solid rgba(148, 163, 184, 0.2)",borderRadius:"8px"},children:[(0,i.jsx)("option",{value:"raw",children:"Raw"}),(0,i.jsx)("option",{value:"1s",children:"1s"}),(0,i.jsx)("option",{value:"5s",children:"5s"}),(0,i.jsx)("option",{value:"10s",children:"10s"})]})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("label",{style:{color:"#94a3b8",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"1.5rem"},children:[(0,i.jsx)("input",{type:"checkbox",checked:E,onChange:e=>I(e.target.checked)}),"Stats"]})})]}),(0,i.jsxs)("div",{style:{padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",borderRadius:"12px",border:"1px solid rgba(148, 163, 184, 0.2)",marginBottom:"0.5rem"},children:[(0,i.jsxs)("label",{style:{color:"#94a3b8",fontSize:"0.8rem",display:"block",marginBottom:"0.25rem"},children:["Range: ",_[0],"% - ",_[1],"%"]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,i.jsx)("input",{type:"range",min:"0",max:_[1]-1,value:_[0],onChange:e=>C([parseInt(e.target.value),_[1]]),style:{flex:1,height:"4px"}}),(0,i.jsx)("input",{type:"range",min:_[0]+1,max:"100",value:_[1],onChange:e=>C([_[0],parseInt(e.target.value)]),style:{flex:1,height:"4px"}})]})]}),E&&(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem",marginBottom:"0.5rem"},children:[(0,i.jsxs)("div",{className:"card",style:{padding:"0.5rem"},children:[(0,i.jsx)("div",{style:{color:"#94a3b8",fontSize:"0.7rem"},children:"Min"}),(0,i.jsx)("div",{style:{color:"#3b82f6",fontSize:"1rem",fontWeight:"bold"},children:(null===(t=W.min)||void 0===t?void 0:t.toFixed(2))||"0"})]}),(0,i.jsxs)("div",{className:"card",style:{padding:"0.5rem"},children:[(0,i.jsx)("div",{style:{color:"#94a3b8",fontSize:"0.7rem"},children:"Avg"}),(0,i.jsx)("div",{style:{color:"#8b5cf6",fontSize:"1rem",fontWeight:"bold"},children:(null===(a=W.avg)||void 0===a?void 0:a.toFixed(2))||"0"})]}),(0,i.jsxs)("div",{className:"card",style:{padding:"0.5rem"},children:[(0,i.jsx)("div",{style:{color:"#94a3b8",fontSize:"0.7rem"},children:"Max"}),(0,i.jsx)("div",{style:{color:"#ef4444",fontSize:"1rem",fontWeight:"bold"},children:(null===(l=W.max)||void 0===l?void 0:l.toFixed(2))||"0"})]}),(0,i.jsxs)("div",{className:"card",style:{padding:"0.5rem"},children:[(0,i.jsx)("div",{style:{color:"#94a3b8",fontSize:"0.7rem"},children:"Count"}),(0,i.jsx)("div",{style:{color:"#10b981",fontSize:"1rem",fontWeight:"bold"},children:(null===(s=W.count)||void 0===s?void 0:s.toLocaleString())||"0"})]})]}),(0,i.jsx)("div",{style:{width:"100%",height:"300px",position:"relative"},children:(0,i.jsx)(c.h,{width:"100%",height:"100%",children:(0,i.jsxs)(p.w,{data:k&&P?P:O,margin:{top:20,right:30,left:20,bottom:10},children:[(0,i.jsx)(h.q,{strokeDasharray:"3 3",stroke:"rgba(148, 163, 184, 0.1)",vertical:!1}),(0,i.jsx)(g.K,{dataKey:"time",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:{stroke:"#94a3b8"},axisLine:{stroke:"#94a3b8"},minTickGap:30}),(0,i.jsx)(x.B,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:{stroke:"#94a3b8"},axisLine:{stroke:"#94a3b8"},label:{value:"Traffic (Gbps)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#94a3b8",fontSize:12},offset:0}}),(0,i.jsx)(u.u,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(148, 163, 184, 0.2)",borderRadius:"8px",color:"#f1f5f9",padding:"8px 12px"},formatter:e=>["".concat(parseFloat(e).toFixed(2)," Gbps"),"Traffic"],labelFormatter:e=>"Time: ".concat(e,"s"),cursor:{stroke:"rgba(139, 92, 246, 0.5)",strokeWidth:1}}),(0,i.jsx)(m.D,{verticalAlign:"top",height:36,wrapperStyle:{color:"#94a3b8",paddingTop:"0px"},iconType:"circle"}),k&&P?S.map(e=>(0,i.jsx)(f.x,{type:"monotone",dataKey:e,name:e,stroke:T(e),strokeWidth:2,dot:!1,activeDot:{r:4},connectNulls:!0},e)):(0,i.jsx)(f.x,{type:"monotone",dataKey:"gbps",stroke:T(o),strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#8b5cf6"},name:o}),(0,i.jsx)(b.B,{dataKey:"time",height:30,stroke:"#8b5cf6",fill:"rgba(139, 92, 246, 0.1)",tickFormatter:()=>"",y:void 0})]})})})]})}var w=a(11348),S=a(85716);function N(){let{topology:e,capacitySummary:t,trafficData:a}=(0,S.useDashboard)(),[s,n]=(0,r.useState)([{role:"assistant",content:"Hello! I'm your NOC AI Assistant. I have access to your live network data. How can I help you optimize the fronthaul?"}]),[d,c]=(0,r.useState)(""),[p,h]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!1),[u,m]=(0,r.useState)("llama3"),f=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[s]);let b=async i=>{if(i.preventDefault(),!d.trim()||p)return;let r={role:"user",content:d};n(e=>[...e,r]),c(""),h(!0);let o={topology_summary:e?{link_count:Object.keys(e.links).length,cell_count:Object.values(e.links).reduce((e,t)=>e+t.cells.length,0)}:"Not loaded",capacity_issues:t?t.filter(e=>parseFloat(e.peak_gbps)>1e4).map(e=>({link_id:e.link_id,peak_gbps:e.peak_gbps,recommendation:"High traffic - needs buffering"})):[],traffic_snapshot:a?a.slice(0,5):"No recent traffic"};try{let e=(await l.Z.post("".concat("http://localhost:8000","/api/chat"),{messages:[...s,r].map(e=>({role:e.role,content:e.content})),model:u,context_data:o})).data;n(t=>[...t,e])}catch(e){console.error("Chat error:",e),n(t=>{var a,i;return[...t,{role:"assistant",content:"Error: ".concat((null===(i=e.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.detail)||"Could not connect to AI. Is Ollama running locally?")}]})}finally{h(!1)}};return(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:[(0,i.jsx)("div",{style:{position:"absolute",top:0,right:0,zIndex:10},children:(0,i.jsx)("button",{onClick:()=>x(!g),className:"glass-btn",style:{padding:"4px 8px",fontSize:"0.75rem"},children:"⚙️ Config"})}),(0,i.jsx)(w.M,{children:g&&(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},style:{position:"absolute",top:"30px",right:0,background:"#1e293b",border:"1px solid rgba(148, 163, 184, 0.2)",borderRadius:"8px",padding:"1rem",zIndex:20,width:"250px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.5)"},children:[(0,i.jsx)("h4",{style:{margin:"0 0 0.5rem",fontSize:"0.9rem",color:"#f1f5f9"},children:"Settings"}),(0,i.jsx)("label",{style:{display:"block",fontSize:"0.8rem",color:"#94a3b8",marginBottom:"0.25rem"},children:"Ollama Model Name"}),(0,i.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),style:{width:"100%",padding:"0.5rem",background:"#0f172a",border:"1px solid #334155",borderRadius:"4px",color:"#fff",fontSize:"0.85rem"},placeholder:"e.g., llama3"})]})}),(0,i.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"1rem",marginBottom:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[s.map((e,t)=>(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{alignSelf:"user"===e.role?"flex-end":"flex-start",maxWidth:"85%",padding:"0.75rem 1rem",borderRadius:"12px",background:"user"===e.role?"rgba(6, 182, 212, 0.2)":"rgba(30, 41, 59, 0.8)",border:"user"===e.role?"1px solid rgba(6, 182, 212, 0.3)":"1px solid rgba(148, 163, 184, 0.1)",color:"#f1f5f9",fontSize:"0.9rem",lineHeight:"1.5",borderBottomRightRadius:"user"===e.role?"2px":"12px",borderBottomLeftRadius:"assistant"===e.role?"2px":"12px"},children:["assistant"===e.role&&(0,i.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8",marginBottom:"0.25rem",fontWeight:"bold"},children:"NOC AI"}),e.content]},t)),p&&(0,i.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},style:{alignSelf:"flex-start",color:"#94a3b8",fontSize:"0.85rem",marginLeft:"1rem"},children:"Generating response..."}),(0,i.jsx)("div",{ref:f})]}),(0,i.jsxs)("form",{onSubmit:b,style:{display:"flex",gap:"0.5rem"},children:[(0,i.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"Ask about network congestion, optimization...",disabled:p,style:{flex:1,padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(148, 163, 184, 0.2)",borderRadius:"8px",color:"#f1f5f9",fontSize:"0.9rem"}}),(0,i.jsx)("button",{type:"submit",disabled:p||!d.trim(),className:"glass-btn",style:{background:"var(--accent-primary)",color:"#fff",opacity:p?.7:1,cursor:p?"wait":"pointer"},children:p?"...":"Send"})]})]})}function _(e){let{data:t}=e,[a,l]=(0,r.useState)("peak_gbps"),[s,n]=(0,r.useState)("desc"),[d,c]=(0,r.useState)("");if(!t||0===t.length)return(0,i.jsx)("div",{className:"loading",children:"Loading capacity data..."});let p=e=>{a===e?n("asc"===s?"desc":"asc"):(l(e),n("desc"))},h=(0,r.useMemo)(()=>{let e=t;return d&&(e=t.filter(e=>e.link_id.toLowerCase().includes(d.toLowerCase()))),[...e].sort((e,t)=>{let i=parseFloat(e[a]),r=parseFloat(t[a]);return"asc"===s?i-r:r-i})},[t,a,s,d]),g=e=>a!==e?"⇅":"asc"===s?"↑":"↓",x=e=>{let t=parseFloat(e.capacity_no_buffer_gbps),a=parseFloat(e.capacity_with_buffer_gbps),i=parseFloat(e.peak_gbps),r=parseFloat(e.avg_gbps);return[r,(r+i)/2,i,a,t]},u=(e,t)=>{let a=Math.max(...e),r=e.map((t,i)=>"".concat(i/(e.length-1)*60,",").concat(20-t/a*20)).join(" ");return(0,i.jsx)("svg",{width:60,height:20,style:{display:"inline-block"},children:(0,i.jsx)("polyline",{points:r,fill:"none",stroke:t,strokeWidth:"2"})})};return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},children:[(0,i.jsx)("input",{type:"text",placeholder:"Filter by link ID...",value:d,onChange:e=>c(e.target.value),style:{flex:1,minWidth:"200px",padding:"0.75rem",background:"rgba(15, 23, 42, 0.8)",color:"#f1f5f9",border:"1px solid rgba(148, 163, 184, 0.2)",borderRadius:"8px",fontSize:"0.95rem"}}),(0,i.jsx)("button",{onClick:()=>{let e=["Link ID,Avg (Gbps),Peak (Gbps),P95 (Gbps),No Buffer (Gbps),With Buffer (Gbps),Savings (%)",...h.map(e=>{let t=parseFloat(e.capacity_no_buffer_gbps),a=parseFloat(e.capacity_with_buffer_gbps),i=((t-a)/t*100).toFixed(1);return[e.link_id,e.avg_gbps,e.peak_gbps,e.p95_gbps,t,a,i].join(",")})].join("\n"),t=new Blob([e],{type:"text/csv"}),a=URL.createObjectURL(t),i=document.createElement("a");i.href=a,i.download="capacity_summary.csv",i.click()},className:"link-button active",style:{padding:"0.75rem 1.5rem"},children:"Export CSV"})]}),(0,i.jsx)("div",{className:"table-container",children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsxs)("th",{onClick:()=>p("link_id"),style:{cursor:"pointer"},children:["Link ID ",g("link_id")]}),(0,i.jsxs)("th",{onClick:()=>p("avg_gbps"),style:{cursor:"pointer"},children:["Avg (Gbps) ",g("avg_gbps")]}),(0,i.jsxs)("th",{onClick:()=>p("peak_gbps"),style:{cursor:"pointer"},children:["Peak (Gbps) ",g("peak_gbps")]}),(0,i.jsxs)("th",{onClick:()=>p("p95_gbps"),style:{cursor:"pointer"},children:["P95 (Gbps) ",g("p95_gbps")]}),(0,i.jsxs)("th",{onClick:()=>p("capacity_no_buffer_gbps"),style:{cursor:"pointer"},children:["No Buffer ",g("capacity_no_buffer_gbps")]}),(0,i.jsxs)("th",{onClick:()=>p("capacity_with_buffer_gbps"),style:{cursor:"pointer"},children:["With Buffer ",g("capacity_with_buffer_gbps")]}),(0,i.jsx)("th",{children:"Savings"}),(0,i.jsx)("th",{children:"Trend"})]})}),(0,i.jsx)("tbody",{children:h.map((e,t)=>{let a=parseFloat(e.capacity_no_buffer_gbps),r=parseFloat(e.capacity_with_buffer_gbps),l=((a-r)/a*100).toFixed(1),s=x(e);return(0,i.jsxs)(o.E.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:[(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"badge",children:e.link_id})}),(0,i.jsx)("td",{children:parseFloat(e.avg_gbps).toFixed(2)}),(0,i.jsx)("td",{children:parseFloat(e.peak_gbps).toFixed(2)}),(0,i.jsx)("td",{children:parseFloat(e.p95_gbps).toFixed(2)}),(0,i.jsx)("td",{children:a.toFixed(2)}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"highlight",children:r.toFixed(2)})}),(0,i.jsx)("td",{children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,i.jsxs)("span",{className:"badge success",children:[l,"%"]}),(0,i.jsx)("div",{style:{flex:1,height:"6px",background:"rgba(148, 163, 184, 0.2)",borderRadius:"3px",overflow:"hidden"},children:(0,i.jsx)("div",{style:{width:"".concat(l,"%"),height:"100%",background:"linear-gradient(90deg, #10b981, #3b82f6)",borderRadius:"3px"}})})]})}),(0,i.jsx)("td",{children:u(s,"#8b5cf6")})]},e.link_id)})})]})}),0===h.length&&(0,i.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#94a3b8"},children:"No links match your filter"})]})}function C(e){let{type:t="card"}=e;return"card"===t?(0,i.jsxs)(o.E.div,{className:"card",initial:{opacity:.6},animate:{opacity:[.6,1,.6]},transition:{duration:1.5,repeat:1/0},children:[(0,i.jsx)("div",{style:{width:"60%",height:"20px",background:"rgba(148, 163, 184, 0.2)",borderRadius:"4px",marginBottom:"1rem"}}),(0,i.jsx)("div",{style:{width:"100%",height:"100px",background:"rgba(148, 163, 184, 0.1)",borderRadius:"8px"}})]}):"chart"===t?(0,i.jsx)(o.E.div,{style:{width:"100%",height:"400px",background:"rgba(15, 23, 42, 0.6)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid rgba(148, 163, 184, 0.2)"},initial:{opacity:.6},animate:{opacity:[.6,1,.6]},transition:{duration:1.5,repeat:1/0},children:(0,i.jsxs)("div",{style:{textAlign:"center",color:"#94a3b8"},children:[(0,i.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\uD83D\uDCCA"}),(0,i.jsx)("div",{children:"Loading visualization..."})]})}):null}function z(){return(0,i.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"radial-gradient(circle at center, #1e293b 0%, #0f172a 100%)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,color:"#f8fafc"},children:(0,i.jsxs)("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",gap:"2rem"},children:[(0,i.jsxs)("div",{style:{position:"relative",width:120,height:120},children:[(0,i.jsx)(o.E.div,{style:{position:"absolute",width:"100%",height:"100%",borderRadius:"50%",border:"2px solid rgba(59, 130, 246, 0.3)",borderTopColor:"#3b82f6"},animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"}}),(0,i.jsx)(o.E.div,{style:{position:"absolute",top:"15%",left:"15%",width:"70%",height:"70%",borderRadius:"50%",border:"2px solid rgba(6, 182, 212, 0.3)",borderBottomColor:"#06b6d4"},animate:{rotate:-360},transition:{duration:2,repeat:1/0,ease:"linear"}}),(0,i.jsx)(o.E.div,{style:{position:"absolute",top:"35%",left:"35%",width:"30%",height:"30%",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #06b6d4)",boxShadow:"0 0 20px rgba(59, 130, 246, 0.5)"},animate:{scale:[1,1.2,1],opacity:[.8,1,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]}),(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsxs)(o.E.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{fontSize:"2rem",fontWeight:"300",margin:"0 0 0.5rem 0",letterSpacing:"1px"},children:["NOKIA ",(0,i.jsx)("span",{style:{fontWeight:"700",color:"#3b82f6"},children:"NOC"})]}),(0,i.jsxs)(o.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{color:"#94a3b8",fontSize:"0.95rem",letterSpacing:"0.5px",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,i.jsx)("span",{style:{display:"inline-block",width:4,height:4,background:"#06b6d4",borderRadius:"50%"}}),"Initializing Intelligent Fronthaul System..."]})]}),(0,i.jsx)("div",{style:{width:"300px",height:"4px",background:"rgba(255,255,255,0.05)",borderRadius:"2px",overflow:"hidden",position:"relative"},children:(0,i.jsx)(o.E.div,{style:{width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, #3b82f6, #06b6d4, transparent)",position:"absolute"},animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})})]})})}var F=a(96443),E=a(19263);a(43977);var I=a(98821),D=a(72245),R=a(36716);let A=E.dV.isNativePlatform(),B=E.dV.getPlatform(),L={async setDark(){if(A)try{await I.A_.setStyle({style:I.bg.Dark}),"android"===B&&await I.A_.setBackgroundColor({color:"#0a0e1a"})}catch(e){console.error("Error setting status bar:",e)}},async hide(){if(A)try{await I.A_.hide()}catch(e){console.error("Error hiding status bar:",e)}},async show(){if(A)try{await I.A_.show()}catch(e){console.error("Error showing status bar:",e)}}},M={async hide(){if(A)try{await D.c.hide()}catch(e){console.error("Error hiding splash screen:",e)}},async show(){if(A)try{await D.c.show()}catch(e){console.error("Error showing splash screen:",e)}}},O={addListener(e){if(!A)return()=>{};let t=R.g.addListener("appStateChange",e);return()=>t.remove()},async getInfo(){if(!A)return{version:"1.0.0-web",build:"1"};try{return await R.g.getInfo()}catch(e){return console.error("Error getting app info:",e),{version:"unknown",build:"unknown"}}}},W=async()=>{if(!A){console.log("Running in web mode, native features disabled");return}console.log("Initializing native features for platform: ".concat(B)),await L.setDark(),setTimeout(async()=>{await M.hide()},1e3),console.log("App Info:",await O.getInfo())};function P(){return(0,r.useEffect)(()=>{W()},[]),null}let T=(0,s.default)(()=>Promise.all([a.e(256),a.e(441)]).then(a.bind(a,32441)),{loadableGenerated:{webpack:()=>[32441]},ssr:!1,loading:()=>(0,i.jsx)(C,{type:"chart"})}),Z=(0,s.default)(()=>a.e(777).then(a.bind(a,4777)),{loadableGenerated:{webpack:()=>[4777]},ssr:!1,loading:()=>(0,i.jsx)(C,{type:"chart"})}),G=F.Z.apiBaseUrl;function H(){var e;let{topology:t,correlation:a,capacitySummary:s,trafficData:c,allLinksTraffic:p,selectedLink:h,setSelectedLink:g,loading:x,error:u,fetchDashboardData:m}=(0,S.useDashboard)(),[f,b]=(0,r.useState)("network"),[y,v]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),E=async e=>{let t=e.target.files[0];if(!t)return;let a=new FormData;a.append("file",t),v(!0);try{await l.Z.post("".concat(G,"/api/upload"),a,{headers:{"Content-Type":"multipart/form-data"}}),alert("Upload successful! Dashboard updating..."),await m(!0)}catch(e){var i,r;console.error("Upload failed:",e),alert("Upload failed: "+((null===(r=e.response)||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:i.detail)||e.message))}finally{v(!1)}},I=async()=>{if(confirm("Are you sure you want to revert to the original dataset? This will discard any uploaded data.")){w(!0);try{await l.Z.post("".concat(G,"/api/reset")),alert("System reset to original state."),await m(!0)}catch(a){var e,t;console.error("Reset failed:",a),alert("Reset failed: "+((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.detail)||a.message))}finally{w(!1)}}};if(x)return(0,i.jsx)(z,{});if(u)return(0,i.jsx)("div",{className:"loading-overlay",children:(0,i.jsx)("div",{className:"error",children:u})});let D=t?Object.keys(t.links).length:0,R=a?a.cells.length:0,A=s&&s.length>0?s.reduce((e,t)=>{let a=parseFloat(t.avg_gbps||t.avg_mbps||0),i=parseFloat(t.peak_gbps||t.peak_mbps||1);return e+(i>0?a/i:0)},0)/s.length*100:0,B={hidden:{y:20,opacity:0,scale:.95},visible:{y:0,opacity:1,scale:1,transition:{type:"spring",stiffness:100}}};return(0,i.jsxs)(o.E.div,{className:"dashboard-container",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},children:[(0,i.jsx)(P,{}),(0,i.jsxs)("div",{style:{position:"fixed",top:30,left:0,right:0,zIndex:9999,background:"rgba(255,0,0,0.8)",color:"white",padding:"10px",fontSize:"12px",textAlign:"center",pointerEvents:"none"},children:["API: ",G," ",(0,i.jsx)("br",{}),"Native: ",F.Z.isNative?"YES":"NO"," | Platform: ",(null===(e=window.Capacitor)||void 0===e?void 0:e.getPlatform)?window.Capacitor.getPlatform():"unknown"]}),(0,i.jsxs)(o.E.header,{className:"header-section",variants:B,children:[(0,i.jsxs)("div",{className:"header-title",children:[(0,i.jsxs)("h1",{children:["NOKIA ",(0,i.jsx)("span",{style:{fontWeight:300,color:"var(--text-secondary)"},children:"NOC"})]}),(0,i.jsx)("p",{children:"Intelligent Fronthaul Optimization"})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[(0,i.jsxs)("label",{className:"glass-btn",style:{cursor:y?"wait":"pointer"},children:[y?"Uploading...":"Upload Data",(0,i.jsx)("input",{type:"file",accept:".csv",style:{display:"none"},onChange:E,disabled:y})]}),(0,i.jsx)("div",{className:"glass-btn",onClick:I,style:{cursor:j?"wait":"pointer"},children:j?"Resetting...":"Reset Data"}),(0,i.jsx)("div",{className:"glass-btn",onClick:()=>window.location.reload(),children:"Refresh"}),(0,i.jsx)(n.default,{href:"/dataset",className:"glass-btn",style:{textDecoration:"none"},children:"View Dataset"}),(0,i.jsxs)("div",{className:"badge",style:{background:"rgba(0, 242, 234, 0.1)",color:"var(--accent-primary)",border:"1px solid rgba(0, 242, 234, 0.3)",padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,i.jsx)("span",{className:"pulsing-dot",style:{width:8,height:8,background:"var(--accent-primary)",borderRadius:"50%",boxShadow:"0 0 10px var(--accent-primary)"}}),"LIVE MONITORING"]})]})]}),(0,i.jsx)(o.E.div,{variants:B,style:{gridColumn:"span 12",padding:"0.75rem 1.5rem",background:"rgba(59, 130, 246, 0.05)",borderLeft:"3px solid rgba(59, 130, 246, 0.6)",borderRadius:"6px",marginBottom:"1.5rem"},children:(0,i.jsxs)("p",{style:{margin:0,color:"#cbd5e1",fontSize:"0.9rem",lineHeight:"1.5"},children:[(0,i.jsx)("strong",{children:"System Overview:"})," Automatically infers fronthaul topology from packet-loss correlation and computes buffer-aware Ethernet capacity to minimize over-provisioning while maintaining QoS."]})}),(0,i.jsxs)(o.E.div,{className:"kpi-grid",variants:B,children:[(0,i.jsxs)("div",{className:"kpi-card",children:[(0,i.jsx)("span",{className:"kpi-label",children:"Active Links"}),(0,i.jsx)("div",{className:"kpi-value",children:D}),(0,i.jsx)("div",{style:{color:"var(--accent-success)",fontSize:"0.9rem"},children:"▲ Optimal Performance"})]}),(0,i.jsxs)("div",{className:"kpi-card",children:[(0,i.jsx)("span",{className:"kpi-label",children:"Monitored Cells"}),(0,i.jsx)("div",{className:"kpi-value",children:R}),(0,i.jsx)("div",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"• 100% Signal Coverage"})]}),(0,i.jsxs)("div",{className:"kpi-card",children:[(0,i.jsx)("span",{className:"kpi-label",children:"Network Load"}),(0,i.jsxs)("div",{className:"kpi-value",style:{color:A>80?"var(--accent-secondary)":"var(--accent-primary)"},children:[A.toFixed(1),"%"]}),(0,i.jsx)("div",{style:{color:"var(--accent-primary)",fontSize:"0.9rem"},children:"~ Stable Throughput"})]}),(0,i.jsxs)("div",{className:"kpi-card",children:[(0,i.jsx)("span",{className:"kpi-label",children:"AI Status"}),(0,i.jsx)("div",{className:"kpi-value text-gradient",children:"ACTIVE"}),(0,i.jsx)("div",{style:{color:"var(--accent-tertiary)",fontSize:"0.9rem"},children:"✦ Predictive Logic On"})]})]}),(0,i.jsxs)(o.E.div,{className:"dashboard-panel panel-topology",variants:B,children:[(0,i.jsx)("div",{className:"panel-header",style:{borderBottom:"none",paddingBottom:0},children:(0,i.jsx)("div",{className:"panel-title",children:"Live Topology"})}),t?(0,i.jsx)(T,{topology:t}):(0,i.jsx)(C,{type:"chart"})]}),(0,i.jsxs)(o.E.div,{className:"dashboard-panel panel-insights",variants:B,children:[(0,i.jsx)("div",{className:"panel-header",children:(0,i.jsx)("div",{className:"panel-title",children:"NOC AI Assistant"})}),(0,i.jsx)("div",{style:{flex:1,overflow:"hidden"},children:(0,i.jsx)(N,{})})]}),(0,i.jsxs)(o.E.div,{className:"dashboard-panel panel-correlation",variants:B,children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsx)("div",{className:"panel-title",children:"Correlation Matrix"}),(0,i.jsxs)("div",{className:"tab-group",children:[(0,i.jsx)("button",{className:"tab-btn ".concat("network"===f?"active":""),onClick:()=>b("network"),style:{color:"network"===f?"#000":"var(--text-secondary)"},children:"Graph"}),(0,i.jsx)("button",{className:"tab-btn ".concat("heatmap"===f?"active":""),onClick:()=>b("heatmap"),style:{color:"heatmap"===f?"#000":"var(--text-secondary)"},children:"Heatmap"})]})]}),a&&(0,i.jsx)("div",{style:{flex:1,overflow:"hidden"},children:"network"===f?(0,i.jsx)(Z,{cells:a.cells,matrix:a.matrix}):(0,i.jsx)(d,{cells:a.cells,matrix:a.matrix})})]}),(0,i.jsxs)(o.E.div,{className:"dashboard-panel panel-traffic",variants:B,children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsx)("div",{className:"panel-title",children:"Traffic Load"}),(0,i.jsx)("div",{className:"tab-group",children:t&&Object.keys(t.links).map(e=>(0,i.jsx)("button",{className:"tab-btn ".concat(h===e?"active":""),onClick:()=>g(e),children:e},e))})]}),c&&(0,i.jsx)(k,{data:c,linkId:h,allLinksData:p})]}),(0,i.jsxs)(o.E.div,{className:"dashboard-panel panel-capacity",variants:B,children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsx)("div",{className:"panel-title",children:"Capacity Planning"}),(0,i.jsx)("div",{style:{fontSize:"0.85rem",color:"#94a3b8",fontStyle:"italic"},children:"Buffer size assumed: 4 symbols (143 \xb5s)"})]}),s&&(0,i.jsx)(_,{data:s})]})]})}},96443:function(e,t,a){"use strict";let i=!!window.Capacitor&&window.Capacitor.isNativePlatform&&window.Capacitor.isNativePlatform();t.Z={apiBaseUrl:"http://10.67.11.156:8000",isNative:i,ollamaUrl:"http://localhost:11434",appName:"Nokia NOC",appVersion:"1.0.0"}},85716:function(e,t,a){"use strict";a.r(t),a.d(t,{DashboardProvider:function(){return d},useDashboard:function(){return c}});var i=a(3827),r=a(64090),l=a(73107),s=a(96443);let n=(0,r.createContext)(),o=s.Z.apiBaseUrl;function d(e){let{children:t}=e,[a,s]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),[p,h]=(0,r.useState)(null),[g,x]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[f,b]=(0,r.useState)("Link_A"),[y,v]=(0,r.useState)(!0),[j,k]=(0,r.useState)(null),[w,S]=(0,r.useState)(!1),N=(0,r.useCallback)(async e=>{try{let t=await l.Z.get("".concat(o,"/api/link-traffic?link_id=").concat(e));x(t.data)}catch(t){console.error("Error fetching traffic data for ".concat(e,":"),t)}},[]),_=(0,r.useCallback)(async()=>{try{let e=(await l.Z.get("".concat(o,"/api/link-traffic"))).data,t={};e.forEach(e=>{let a=e.link_id;t[a]||(t[a]=[]),t[a].push(e)}),m(t)}catch(e){console.error("Error fetching all links traffic:",e)}},[]),C=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!w||e)try{v(!0);let[e,t,a]=await Promise.all([l.Z.get("".concat(o,"/api/topology")),l.Z.get("".concat(o,"/api/correlation")),l.Z.get("".concat(o,"/api/capacity-summary"))]);s(e.data),c(t.data),h(a.data),await _();let i=e.data.links?Object.keys(e.data.links)[0]:null;!i||f&&e.data.links[f]?f&&await N(f):(b(i),await N(i)),S(!0),v(!1),k(null)}catch(e){console.error("Error fetching dashboard data:",e),k("Failed to load system data."),v(!1)}},[w,_,N,f]);return(0,r.useEffect)(()=>{C()},[C]),(0,r.useEffect)(()=>{f&&w&&N(f)},[f,w,N]),(0,i.jsx)(n.Provider,{value:{topology:a,correlation:d,capacitySummary:p,trafficData:g,allLinksTraffic:u,selectedLink:f,setSelectedLink:b,loading:y,error:j,fetchDashboardData:C,isInitialized:w},children:t})}function c(){let e=(0,r.useContext)(n);if(!e)throw Error("useDashboard must be used within a DashboardProvider");return e}}},function(e){e.O(0,[107,76,175,971,69,744],function(){return e(e.s=63170)}),_N_E=e.O()}]);