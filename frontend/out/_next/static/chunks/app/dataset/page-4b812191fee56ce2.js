(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43],{9217:function(e,s,t){Promise.resolve().then(t.bind(t,26926))},26926:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(3827),i=t(64090),n=t(4504),r=t(73107),l=t(8792);function c(){let[e,s]=(0,i.useState)([]),[t,c]=(0,i.useState)(!0),[d,o]=(0,i.useState)(null),[h,g]=(0,i.useState)(""),[p,x]=(0,i.useState)("time_seconds"),[u,f]=(0,i.useState)("asc");(0,i.useEffect)(()=>{(async()=>{try{let e=await r.Z.get("".concat("http://localhost:8000","/api/link-traffic"));s(e.data),c(!1)}catch(e){console.error("Error fetching dataset:",e),o("Failed to load dataset. Please ensure the backend is running."),c(!1)}})()},[]);let m=e=>{p===e?f("asc"===u?"desc":"asc"):(x(e),f("asc"))},j=e=>p!==e?"⇅":"asc"===u?"↑":"↓",y=(0,i.useMemo)(()=>{let s=e;if(h){let t=h.toLowerCase();s=e.filter(e=>e.link_id.toLowerCase().includes(t)||e.time_seconds.toString().includes(t)||e.aggregated_gbps.toString().includes(t))}return[...s].sort((e,s)=>{let t=e[p],a=s[p];return(("time_seconds"===p||"aggregated_gbps"===p)&&(t=parseFloat(t),a=parseFloat(a)),t<a)?"asc"===u?-1:1:t>a?"asc"===u?1:-1:0})},[e,h,p,u]),b=y.slice(0,1e3);return(0,a.jsxs)("div",{className:"dashboard-container",children:[(0,a.jsxs)(n.E.header,{className:"header-section",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("div",{className:"header-title",children:[(0,a.jsxs)("h1",{children:["NOKIA ",(0,a.jsx)("span",{style:{fontWeight:300,color:"var(--text-secondary)"},children:"NOC"})]}),(0,a.jsx)("p",{children:"Raw Traffic Dataset"})]}),(0,a.jsx)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:(0,a.jsx)(l.default,{href:"/",className:"glass-btn",children:"← Back to Dashboard"})})]}),(0,a.jsxs)(n.E.div,{className:"dashboard-panel",style:{gridColumn:"span 12",minHeight:"80vh"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,a.jsx)("div",{className:"panel-header",children:(0,a.jsxs)("div",{className:"panel-title",children:["Dataset Viewer (",y.length.toLocaleString()," rows)"]})}),(0,a.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[(0,a.jsx)("input",{type:"text",placeholder:"Filter data...",value:h,onChange:e=>g(e.target.value),style:{flex:1,padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(148, 163, 184, 0.2)",borderRadius:"8px",color:"#f1f5f9",maxWidth:"400px"}}),b.length<y.length&&(0,a.jsx)("div",{style:{alignSelf:"center",color:"#94a3b8",fontSize:"0.9rem"},children:"Showing first 1,000 rows"})]}),t?(0,a.jsx)("div",{className:"loading",children:"Loading dataset..."}):d?(0,a.jsx)("div",{className:"error",children:d}):(0,a.jsx)("div",{className:"table-container",style:{maxHeight:"70vh",overflowY:"auto"},children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{style:{position:"sticky",top:0,zIndex:10},children:(0,a.jsxs)("tr",{children:[(0,a.jsxs)("th",{onClick:()=>m("time_seconds"),style:{cursor:"pointer"},children:["Time (s) ",j("time_seconds")]}),(0,a.jsxs)("th",{onClick:()=>m("link_id"),style:{cursor:"pointer"},children:["Link ID ",j("link_id")]}),(0,a.jsxs)("th",{onClick:()=>m("aggregated_gbps"),style:{cursor:"pointer"},children:["Traffic (Gbps) ",j("aggregated_gbps")]})]})}),(0,a.jsx)("tbody",{children:b.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:parseFloat(e.time_seconds).toFixed(2)}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"badge",children:e.link_id})}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{style:{color:parseFloat(e.aggregated_gbps)>1e4?"#ef4444":"#f1f5f9",fontWeight:parseFloat(e.aggregated_gbps)>1e4?"bold":"normal"},children:parseFloat(e.aggregated_gbps).toFixed(2)})})]},"".concat(e.link_id,"-").concat(e.time_seconds,"-").concat(s)))})]})})]})]})}}},function(e){e.O(0,[107,76,971,69,744],function(){return e(e.s=9217)}),_N_E=e.O()}]);