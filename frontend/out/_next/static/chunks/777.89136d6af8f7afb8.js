"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{4777:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var i=n(3827),r=n(64090);function l(e){let{cells:t,matrix:n}=e,[l,a]=(0,r.useState)(.1),[o,s]=(0,r.useState)(null),[c,d]=(0,r.useState)({width:0,height:0}),h=(0,r.useRef)(null),g=(0,r.useRef)(null),f=(0,r.useMemo)(()=>{if(!t||!n||0===n.length)return{linkCount:0,avgCorrelation:0,maxCorrelation:0};let e=0,i=0,r=0;for(let t=0;t<n.length;t++)for(let a=t+1;a<n[t].length;a++){let o=n[t][a];o>=l&&!isNaN(o)&&(e++,i+=o,o>r&&(r=o))}return{linkCount:e,avgCorrelation:e>0?i/e:0,maxCorrelation:r}},[t,n,l]);return(0,r.useEffect)(()=>{if(!g.current)return;let e=new ResizeObserver(e=>{let{width:t,height:n}=e[0].contentRect;d({width:t,height:n})});return e.observe(g.current),()=>e.disconnect()},[]),(0,r.useEffect)(()=>{if(!h.current||!c.width||!c.height||!t)return;let e=h.current,{width:i,height:r}=c,a=e.getContext("2d"),s=window.devicePixelRatio||1;e.width=i*s,e.height=r*s,a.scale(s,s);let d=i/2,g=r/2,f=.35*Math.min(i,r),u=t.map((e,n)=>{let i=2*n*Math.PI/t.length-Math.PI/2;return{id:e,x:d+Math.cos(i)*f,y:g+Math.sin(i)*f,angle:i,index:n}});a.clearRect(0,0,i,r),a.globalCompositeOperation="lighter";for(let e=0;e<n.length;e++)for(let t=e+1;t<n[e].length;t++){let i=n[e][t];if(i>=l&&!isNaN(i)){let n;let r=u[e],s=u[t],c=(i-l)/(1-l)*.8+.2;o&&(o===r.id||o===s.id?c=Math.min(1,c+.3):c*=.1),a.beginPath(),a.moveTo(r.x,r.y),a.quadraticCurveTo(d,g,s.x,s.y),n=i>=.9?"rgba(239, 68, 68, ".concat(c,")"):i>=.8?"rgba(249, 115, 22, ".concat(c,")"):i>=.7?"rgba(234, 179, 8, ".concat(c,")"):"rgba(59, 130, 246, ".concat(c,")"),i>=.9?n="rgba(6, 182, 212, ".concat(c,")"):i>=.7&&(n="rgba(139, 92, 246, ".concat(c,")")),a.strokeStyle=n,a.lineWidth=o&&c>.5?2:1,a.stroke()}}a.globalCompositeOperation="source-over",u.forEach(e=>{let t=o===e.id,i=1;if(o&&!t){let t=u.find(e=>e.id===o).index,r=e.index;Math.max(n[t][r],n[r][t])<l&&(i=.2)}a.beginPath(),a.arc(e.x,e.y,6,0,2*Math.PI),a.fillStyle=t?"#06b6d4":"rgba(139, 92, 246, ".concat(i,")"),a.fill(),a.strokeStyle="#fff",a.lineWidth=t?2:1,a.stroke(),a.save(),a.translate(e.x,e.y),a.rotate(e.angle),a.textAlign="left",a.textBaseline="middle",a.fillStyle=t?"#fff":"rgba(255, 255, 255, ".concat(i,")"),a.font=t?"bold 12px Inter":"11px Inter",a.fillText("  ".concat(e.id),8,0),a.restore()})},[t,n,l,o,c]),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,i.jsx)("div",{style:{padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",borderRadius:"12px",border:"1px solid rgba(148, 163, 184, 0.2)",marginBottom:"0.5rem",flexShrink:0},children:(0,i.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,i.jsxs)("label",{style:{color:"#94a3b8",fontSize:"0.8rem",display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[(0,i.jsxs)("span",{children:["Min Strength: ",l.toFixed(2)]}),(0,i.jsxs)("span",{children:[f.linkCount," Links"]})]}),(0,i.jsx)("input",{type:"range",min:"0.0",max:"0.99",step:"0.01",value:l,onChange:e=>a(parseFloat(e.target.value)),style:{width:"100%"}})]})}),(0,i.jsx)("p",{style:{color:"#94a3b8",fontSize:"0.8rem",marginBottom:"0.5rem",flexShrink:0,textAlign:"center"},children:"Select a node to filter connections."}),(0,i.jsx)("div",{ref:g,style:{flex:1,width:"100%",minHeight:"200px",background:"rgba(15, 23, 42, 0.4)",borderRadius:"12px",border:"1px solid rgba(148, 163, 184, 0.2)",cursor:"pointer",overflow:"hidden",position:"relative"},children:(0,i.jsx)("canvas",{ref:h,onClick:e=>{let n=h.current.getBoundingClientRect(),i=e.clientX-n.left,r=e.clientY-n.top,l=n.width,a=n.height,c=l/2,d=a/2,g=.35*Math.min(l,a),f=null;t.forEach((e,n)=>{let l=2*n*Math.PI/t.length-Math.PI/2;20>Math.sqrt((i-(c+Math.cos(l)*g))**2+(r-(d+Math.sin(l)*g))**2)&&(f=e)}),s(f===o?null:f)},style:{width:"100%",height:"100%",position:"absolute",top:0,left:0}})}),(0,i.jsxs)("div",{style:{marginTop:"0.5rem",display:"flex",gap:"1rem",justifyContent:"center",flexShrink:0},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.3rem"},children:[(0,i.jsx)("span",{style:{width:8,height:8,background:"#06b6d4",borderRadius:"50%"}}),(0,i.jsx)("span",{style:{fontSize:"0.8rem"},children:"High"})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.3rem"},children:[(0,i.jsx)("span",{style:{width:8,height:8,background:"#8b5cf6",borderRadius:"50%"}}),(0,i.jsx)("span",{style:{fontSize:"0.8rem"},children:"Med"})]})]})]})}}}]);