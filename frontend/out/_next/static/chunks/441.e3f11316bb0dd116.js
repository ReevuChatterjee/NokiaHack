"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{32441:function(e,t,l){l.r(t);var r=l(3827),o=l(64090),a=l(57256);let n=(0,o.forwardRef)((e,t)=>{let{topology:l}=e,n=(0,o.useRef)(),[i,s]=(0,o.useState)({nodes:[],links:[]}),[d,c]=(0,o.useState)(new Set),[h,f]=(0,o.useState)(new Set),[b,p]=(0,o.useState)(null),g=e=>{let t=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4"],l=0;for(let t=0;t<e.length;t++)l=e.charCodeAt(t)+((l<<5)-l);return t[Math.abs(l)%t.length]};return(0,o.useEffect)(()=>{if(!l||!l.links)return;let e=[],t=[],r=Object.keys(l.links);r.forEach((o,a)=>{let n=l.links[o],i=g(o),s=2*a*Math.PI/r.length-Math.PI/2,d=180*Math.cos(s),c=180*Math.sin(s);e.push({id:o,name:o,label:o.replace("_"," "),type:"link",cells:n.cells,val:30,color:i,avgThroughput:n.avg_throughput_mbps,peakThroughput:n.peak_throughput_mbps,fx:d,fy:c,x:d,y:c}),n.cells&&n.cells.forEach((l,r)=>{let a=String(l),s="Cell_".concat(a,"_").concat(o),h=2*r*Math.PI/n.cells.length,f=d+50*Math.cos(h),b=c+50*Math.sin(h);e.push({id:s,name:"Cell ".concat(a),label:a,type:"cell",val:10,color:i,parentId:o,fx:f,fy:b,x:f,y:b}),t.push({source:o,target:s,color:i,width:2})})}),s({nodes:e,links:t}),setTimeout(()=>{n.current&&(n.current.zoomToFit(400,100),n.current.centerAt(0,0,600))},500)},[l]),(0,r.jsxs)("div",{ref:t,style:{width:"100%",height:"600px",background:"rgba(15, 23, 42, 0.4)",borderRadius:"12px",overflow:"hidden",border:"1px solid rgba(148, 163, 184, 0.2)",position:"relative"},children:[(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,padding:"1rem",background:"linear-gradient(to bottom, rgba(15, 23, 42, 0.9) 0%, rgba(15, 23, 42, 0) 100%)",pointerEvents:"none",zIndex:10},children:(0,r.jsx)("h3",{style:{color:"#8b5cf6",fontSize:"1.1rem",margin:0},children:"Fronthaul Topology Map"})}),(0,r.jsxs)("div",{style:{position:"absolute",bottom:"1rem",left:"1rem",background:"rgba(15, 23, 42, 0.8)",padding:"0.75rem",borderRadius:"8px",zIndex:10},children:[(0,r.jsx)("div",{style:{fontSize:"0.85rem",color:"#94a3b8",fontWeight:"bold",marginBottom:"0.5rem"},children:"Legend"}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.3rem"},children:[(0,r.jsx)("div",{style:{width:"14px",height:"14px",borderRadius:"3px",border:"2px solid white",background:"#3b82f6"}}),(0,r.jsx)("span",{style:{fontSize:"0.8rem",color:"#f1f5f9"},children:"Fronthaul Link"})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,r.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",border:"1px solid white",background:"#3b82f6"}}),(0,r.jsx)("span",{style:{fontSize:"0.8rem",color:"#f1f5f9"},children:"Cell Site"})]})]}),b&&(0,r.jsxs)("div",{style:{position:"absolute",top:"1rem",right:"1rem",width:"250px",background:"rgba(15, 23, 42, 0.9)",padding:"1rem",borderRadius:"8px",border:"1px solid #3b82f6",zIndex:20},children:[(0,r.jsx)("strong",{style:{color:"#3b82f6",display:"block",marginBottom:"0.5rem",fontSize:"1.1rem"},children:"link"===b.type?"\uD83D\uDCE1 ".concat(b.label):"\uD83D\uDCF1 Cell ".concat(b.label)}),"link"===b.type&&(0,r.jsx)("div",{style:{color:"#e2e8f0",fontSize:"0.9rem"},children:(0,r.jsxs)("div",{children:["Connected Cells: ",b.cells.length]})})]}),(0,r.jsx)(a.Z,{ref:n,graphData:i,nodeRelSize:6,nodeCanvasObject:(e,t,l)=>{let r=0===d.size||d.has(e.id),o=r?1:.2;if("link"===e.type){let a=e.val;t.fillStyle=e.color,t.globalAlpha=o,t.beginPath(),t.roundRect(e.x-a/2,e.y-a/2,a,a,5),t.fill(),t.strokeStyle="#fff",t.lineWidth=r?2:1,t.stroke();let n=16/l;t.font="bold ".concat(n,"px Inter, sans-serif"),t.fillStyle="#fff",t.textAlign="center",t.textBaseline="middle",t.fillText(e.label,e.x,e.y+a/2+n+4)}else{let a=e.val;t.fillStyle=e.color,t.globalAlpha=o,t.beginPath(),t.arc(e.x,e.y,a,0,2*Math.PI,!1),t.fill(),t.strokeStyle="#fff",t.lineWidth=r?2:1,t.stroke(),l>.8&&(t.font="".concat(10/l,"px Inter, sans-serif"),t.fillStyle="#fff",t.textAlign="center",t.textBaseline="middle",t.fillText(e.label,e.x,e.y))}t.globalAlpha=1},onRenderFramePre:(e,t)=>{let r=Object.keys((null==l?void 0:l.links)||{});r.forEach((t,l)=>{let o=g(t),a=2*l*Math.PI/r.length-Math.PI/2,n=180*Math.cos(a),i=180*Math.sin(a);e.beginPath(),e.arc(n,i,80,0,2*Math.PI),e.fillStyle=o,e.globalAlpha=.05,e.fill(),e.strokeStyle=o,e.globalAlpha=.2,e.lineWidth=1,e.setLineDash([5,5]),e.stroke(),e.setLineDash([]),e.globalAlpha=1})},linkWidth:e=>0===h.size||h.has(e)?2:1,linkColor:e=>0===h.size||h.has(e)?e.color:"".concat(e.color,"20"),onNodeClick:e=>{if(!e)return;p(e);let t=new Set,l=new Set;"link"===e.type?(t.add(e.id),i.links.forEach(r=>{let o="object"==typeof r.source?r.source.id:r.source,a="object"==typeof r.target?r.target.id:r.target;o===e.id&&(t.add(a),l.add(r))})):(t.add(e.id),e.parentId&&t.add(e.parentId),i.links.forEach(t=>{("object"==typeof t.target?t.target.id:t.target)===e.id&&l.add(t)})),c(t),f(l)},onBackgroundClick:()=>{c(new Set),f(new Set),p(null)},backgroundColor:"rgba(0,0,0,0)",enableNodeDrag:!1,enableZoomInteraction:!0,enablePanInteraction:!0,cooldownTicks:0})]})});n.displayName="NetworkGraph2D",t.default=n}}]);